// build time:Fri May 22 2020 12:46:02 GMT+0800 (GMT+08:00)
(function(e){var t=function(t,a,n){var r=new Date;var l=r.getDate();var s=r.getMonth();var o=r.getFullYear();var i=l;var u=s;var f=o;var p=n;var c=null;var d=null;var v={posts:[],prev:null,next:null};var h="en";g(t);var y=e.extend({},e.fn.aCalendar.defaults,typeof calLanguages==="undefined"?{}:calLanguages[h],a);if(y.root[0]!=="/"){y.root="/"+y.root}if(y.root[y.root.length-1]!=="/"){y.root+="/"}function g(e){if(e&&typeof calLanguages!=="undefined"&&calLanguages[e]){h=e}}function m(){if(u<11){u++}else{u=0;f++}L()}function M(){if(u>0){u--}else{u=11;f--}L()}function x(e){if(e){f=e.getFullYear();u=e.getMonth();L()}}function D(){if(y.single){k()}else{w()}}function k(){if(y.url!=null&&y.url!=""){if(c===null){e.ajax({url:y.url,async:false,success:function(e){c=e;C(Object.keys(c))}})}if(c!==null){if(T()){v.posts=c[f+"-"+(u+1)]}}}}function w(){if(d===null){e.ajax({url:y.root+"list.json",async:false,success:function(e){C(e)}})}if(T()){e.ajax({url:y.root+f+"-"+(u+1)+".json",async:false,success:function(e){v.posts=e}})}}function C(e){d=e.map(function(e){var t=e.split("-");return new Date(Date.UTC(+t[0],+t[1]-1))})}function T(){var e=Date.UTC(f,u);if(d===null||d.length===0){return false}if(v.posts.length===0&&(v.prev===null&&v.next!==null&&v.next.getTime()>e||v.next===null&&v.prev!==null&&v.prev.getTime()<e)){return false}v.posts=[];for(var t=0;t<d.length;t++){var a=d[t].getTime();if(e===a){v.prev=t===0?null:d[t-1];v.next=t===d.length-1?null:d[t+1];return true}else if(e<a){v.prev=t===0?null:d[t-1];v.next=d[t];break}else{v.prev=d[t];v.next=null}}return false}function b(e,t){var a={"LMM+":y.months[e.getMonth()],"MM+":e.getMonth()+1};if(/(y+)/.test(t)){t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))}for(var n in a){if(new RegExp("("+n+")").test(t)){t=t.replace(RegExp.$1,n==="LMM+"?a[n]:("00"+a[n]).substr((""+a[n]).length))}}return t}function L(){D();var t=new Date(f,u,1).getDay()-y.weekOffset;if(t<=0){t=6-(t+1)*-1}var a=new Date(f,u+1,0).getDate();var n=new Date(f,u,0).getDate()-t+1;var r=e("<div/>").addClass("cal-head");var l=e("<div/>");var c=e("<div/>");var d=e("<div/>").addClass("cal-title");c.html(y.headArrows.previous);l.html(y.headArrows.next);curDate=new Date(Date.UTC(f,u));if(v.posts.length===0){d.html(b(curDate,y.titleFormat))}else{cTitleLink=e("<a/>").attr("href",b(curDate,y.titleLinkFormat)).attr("title",b(curDate,y.postsMonthTip)).html(b(curDate,y.titleFormat));d.html(cTitleLink)}c.on("click",M);l.on("click",m);r.append(c);r.append(d);r.append(l);var h=e("<table/>").addClass("cal");var g=y.weekOffset;var k=e("<thead/>");var w=e("<tr/>");for(var C=0;C<7;C++){if(g>6){g=0}var T=e("<th/>").attr("scope","col").attr("title",y.dayOfWeek[g]);T.html(y.dayOfWeekShort[g]);w.append(T);g++}k.append(w);h.append(k);var L=e("<tfoot/>");var F=e("<tr/>");var O=e("<td/>").attr("colspan",3);var j=e("<td/>").html("&nbsp;");var A=e("<td/>").attr("colspan",3);if(v.prev){O.html(y.footArrows.previous+y.months[v.prev.getMonth()]).addClass("cal-foot").attr("title",b(v.prev,y.postsMonthTip))}if(v.next){A.html(y.months[v.next.getMonth()]+y.footArrows.next).addClass("cal-foot").attr("title",b(v.next,y.postsMonthTip))}O.on("click",function(){x(v.prev)});A.on("click",function(){x(v.next)});F.append(O);F.append(j);F.append(A);L.append(F);var S=e("<tbody/>");var W=1;var E=1;for(var C=0;C<6;C++){var R=e("<tr/>");for(var J=0;J<7;J++){var U=e("<td/>");if(C*7+J<t){U.addClass("cal-gray");U.html(n++)}else if(W<=a){if(W==i&&s==u&&o==f){U.addClass("cal-today")}var Y={num:0,keys:[]};for(var $=0;$<v.posts.length;$++){var N=new Date(Date.parse(v.posts[$].date));if(N.getDate()==W){Y.keys[Y.num++]=$}}if(Y.num!==0){var z=Y.keys[0];var P=e("<a>").attr("href",v.posts[z].link).attr("title",v.posts[z].title).html(W++);U.append(P)}else{U.html(W++)}}else{U.addClass("cal-gray");U.html(E++)}R.append(U)}S.append(R)}h.append(k);h.append(L);h.append(S);e(p).html(r);e(p).append(h)}return L()};e.fn.aCalendar=function(a,n){return this.each(function(){return t(a,n,e(this))})};e.fn.aCalendar.defaults={months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeekShort:["S","M","T","W","T","F","S"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],postsMonthTip:"Posts published in LMM yyyy",titleFormat:"yyyy LMM",titleLinkFormat:"/archives/yyyy/MM/",headArrows:{previous:'<span class="cal-prev"></span>',next:'<span class="cal-next"></span>'},footArrows:{previous:"« ",next:" »"},weekOffset:0,single:true,root:"/calendar/",url:"/calendar.json"};e(document).ready(function(){e("#calendar").aCalendar("zh-CN")})})(jQuery);
//rebuild by neat 